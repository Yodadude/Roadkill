@model IList<HistorySummary>
@{ 
	ViewBag.Title = "Page history";
}
<h1>History</h1>

<table id="historytable">
	<thead>
		<tr>
			<td class="version">Version</td>
			<td class="editedon">Edited on</td>
			<td class="version">Edited by</td>
			<td class="revert"></td>
		</tr>
	</thead>
	<tbody>

		@for (int i=0;i < Model.Count;i++)
		{
		<tr>
			<td class="version">@Html.ActionLink(Model[i].VersionNumber.ToString(), "Version", new { id = Model[i].Id })</td>
			<td class="editedon" title="@Model[i].EditedOn.ToString("U")">@Model[i].EditedOn</td>
			<td class="editedby">@Html.ActionLink(Model[i].EditedBy, "ByUser", "Pages", new { id = Model[i].EditedBy.ToBase64(), encoded = true }, null)</td>
			@if (i > 0 && RoadkillContext.Current.IsLoggedIn)
			{
			<td class="revert">@Html.ActionLink("Revert", "Revert", new { versionId = Model[i].Id, pageId = Model[i].PageId })</td>
			}
		</tr>
		}
	</tbody>
</table>