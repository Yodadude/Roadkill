@using Roadkill.Core.Search
@model IList<SearchResult>
@{ 
	ViewBag.Title = "Search results";
}

@if (Model.Count == 0)
{
	<h1>Your search - @ViewData["search"] - did not match any pages.</h1>
}
else
{
	<h1>Search results for '@ViewData["search"]'</h1>
}

@using (Html.BeginForm("Search", "Home", FormMethod.Get))
{
	@Html.TextBox("q",null,new { placeholder="Enter text to search",@class="searchbox"})
	<input type="submit" value="Search" />
}

@foreach (SearchResult result in Model)
{
	<div class="searchresult">
		<div class="searchresult-title">@Html.ActionLink(result.Title, "Index", "Wiki", new { id = result.Id, title = result.Title.EncodeTitle() }, null)</div>
		<div class="searchresult-summary">@MvcHtmlString.Create(result.ContentSummary)...</div>
		<div>
			<div class="searchresult-date left">@Html.FormatFileSize(result.ContentLength) - @result.CreatedOn.ToString("dd MMM yyyy HH:ss")</div>
			<div class="searchresult-tags left">@Html.TagBlocks(result.Tags.SemiColonDelimitTags())</div>
		</div>
	</div>
	<br class="clear" /><br />
}